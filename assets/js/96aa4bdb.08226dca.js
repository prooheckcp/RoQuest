"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[6903],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>h});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var u=r.createContext({}),l=function(e){var t=r.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=l(e.components);return r.createElement(u.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},y=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,u=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),p=l(n),y=o,h=p["".concat(u,".").concat(y)]||p[y]||d[y]||a;return n?r.createElement(h,s(s({ref:t},c),{},{components:n})):r.createElement(h,s({ref:t},c))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,s=new Array(a);s[0]=y;var i={};for(var u in t)hasOwnProperty.call(t,u)&&(i[u]=t[u]);i.originalType=e,i[p]="string"==typeof e?e:o,s[1]=i;for(var l=2;l<a;l++)s[l]=n[l];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}y.displayName="MDXCreateElement"},86876:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>l});var r=n(87462),o=(n(67294),n(3905));const a={sidebar_position:4,sidebar_label:"\ud83c\udfac Wrap Up"},s="\ud83c\udfac Wrap Up",i={unversionedId:"MyFirstQuest/WrapUp",id:"MyFirstQuest/WrapUp",title:"\ud83c\udfac Wrap Up",description:"\ud83c\udfaf Adding Objective to Quest",source:"@site/docs/MyFirstQuest/WrapUp.md",sourceDirName:"MyFirstQuest",slug:"/MyFirstQuest/WrapUp",permalink:"/RoQuest/docs/MyFirstQuest/WrapUp",draft:!1,editUrl:"https://github.com/prooheckcp/RoQuest/edit/master/docs/MyFirstQuest/WrapUp.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,sidebar_label:"\ud83c\udfac Wrap Up"},sidebar:"defaultSidebar",previous:{title:"\ud83c\udf4e Creating Object",permalink:"/RoQuest/docs/MyFirstQuest/CreatingObject"},next:{title:"\ud83d\udda5\ufe0f Making Quest UI",permalink:"/RoQuest/docs/MyFirstUI/MakingQuestUI"}},u={},l=[{value:"\ud83c\udfaf Adding Objective to Quest",id:"-adding-objective-to-quest",level:2},{value:"\ud83d\udcbe Load quest into RoQuest",id:"-load-quest-into-roquest",level:2},{value:"\ud83d\udd0d Track Progress",id:"-track-progress",level:2}],c={toc:l},p="wrapper";function d(e){let{components:t,...n}=e;return(0,o.kt)(p,(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"-wrap-up"},"\ud83c\udfac Wrap Up"),(0,o.kt)("h2",{id:"-adding-objective-to-quest"},"\ud83c\udfaf Adding Objective to Quest"),(0,o.kt)("p",null,"Now that we have both our quest and objective done we need to add this to the quest. To do so you just need to require the quest objective. Once you did that you can call the function ",(0,o.kt)("inlineCode",{parentName:"p"},":NewObjective(target)")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'-- Apple.lua\nlocal ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RoQuest = require(ReplicatedStorage.RoQuest).Server\nlocal appleObjective = require(ReplicatedStorage.QuestObjectives.AppleInfo)\n\nlocal Quest = RoQuest.Quest\n\nreturn Quest {\n    Name = "Collect Apples", -- The name of our quest\n    Description = "Collect 2 apples", -- The description that we will display to our user\n    QuestId = "AppleCollection", -- A unique identifier to our quest\n    QuestAcceptType = RoQuest.QuestAcceptType.Automatic, -- If the quest automatically gets accepted or rquires manual work\n    QuestDeliverType = RoQuest.QuestDeliverType.Automatic, -- If the quest automatically gets delivered or requires manual work\n    QuestRepeatableType = RoQuest.QuestRepeatableType.NonRepeatable, -- If the quest can be repeated or not\n    QuestStart = -1, -- UTC time to define when the quest should become available (specially useful for event quests)\n    QuestEnd = -1, -- UTC time to define when the quest should no longer be available (specially useful for event quests)\n    RequiredQuests = {}, -- A list of quests that are required to be delivered before this quest can be started\n    LifeCycles = {"AppleQuest"}, -- The lifecycles that will manage this quest\'s behavior\n    QuestObjectives = {\n        appleObjective:NewObjective(2) -- Creates an objective with a goal of 2\n    }, \n}\n')),(0,o.kt)("p",null,"In the example above we created an objective with a goal of 2. Basically the player needs to collect 2 apples in order to complete this quest! A quest can contain an infinite amount of objects!"),(0,o.kt)("h2",{id:"-load-quest-into-roquest"},"\ud83d\udcbe Load quest into RoQuest"),(0,o.kt)("p",null,"In the server-side, we now need to feed the quests into RoQuest in order for the library to know that they exist. Remember the :Init function? Yes, we passed an empty table into it! You should instead of an empty table, you should send an array with all your quests into it."),(0,o.kt)("p",null,"To help you doing this you can take advantage of a neat function called LoadDirectory. See the following example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RoQuest = require(ReplicatedStorage.RoQuest).Server\n\nRoQuest:Init(RoQuest:LoadDirectory(ReplicatedStorage.Quests))\n')),(0,o.kt)("h2",{id:"-track-progress"},"\ud83d\udd0d Track Progress"),(0,o.kt)("p",null,"Okay but now how do we know when the player completed the quest? We don't have any UI or feedback to indicate that! In the next section I'll teach you how to make a UI to track the quests and make your own quest log but for now let's just use some events to listen to changes to the quest."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"When accessing to anything from RoQuest the developer ",(0,o.kt)("strong",{parentName:"p"},"shoud")," use RoQuest.OnStart (returns a Promise) to ensure that the quest system has been initiated")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-lua"},'local ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RoQuest = require(ReplicatedStorage.RoQuest).Server\n\nRoQuest:Init(RoQuest:LoadDirectory(ReplicatedStorage.Quests))\n\nRoQuest.OnStart():andThen(function()\n    RoQuest.OnQuestObjectiveChanged:Connect(function(player: Player, questId: string, objectiveId: string, newValue: number)\n        print(player.Name, " got ", newValue, objectiveId)\n    end)\n    \n    RoQuest.OnQuestCompleted:Connect(function(player: Player, questId: string)\n        print(player.Name, " just completed the quest: ", questId)\n    end)\nend)\n')))}d.isMDXComponent=!0}}]);