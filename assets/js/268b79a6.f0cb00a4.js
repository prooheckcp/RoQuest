"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[872],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>m});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,l=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=u(n),g=r,m=p["".concat(l,".").concat(g)]||p[g]||d[g]||s;return n?a.createElement(m,i(i({ref:t},c),{},{components:n})):a.createElement(m,i({ref:t},c))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,i=new Array(s);i[0]=g;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[p]="string"==typeof e?e:r,i[1]=o;for(var u=2;u<s;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},43202:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>u});var a=n(87462),r=(n(67294),n(3905));const s={sidebar_position:1,sidebar_label:"\ud83d\udda5\ufe0f Making Quest UI"},i="\ud83d\udda5\ufe0f Making Quest UI",o={unversionedId:"MyFirstUI/MakingQuestUI",id:"MyFirstUI/MakingQuestUI",title:"\ud83d\udda5\ufe0f Making Quest UI",description:"\ud83d\udda5\ufe0f Import UI",source:"@site/docs/MyFirstUI/MakingQuestUI.md",sourceDirName:"MyFirstUI",slug:"/MyFirstUI/MakingQuestUI",permalink:"/RoQuest/docs/MyFirstUI/MakingQuestUI",draft:!1,editUrl:"https://github.com/prooheckcp/RoQuest/edit/master/docs/MyFirstUI/MakingQuestUI.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"\ud83d\udda5\ufe0f Making Quest UI"},sidebar:"defaultSidebar",previous:{title:"\ud83c\udfac Wrap Up",permalink:"/RoQuest/docs/MyFirstQuest/WrapUp"},next:{title:"\ud83d\udcdc Making a Quest Log",permalink:"/RoQuest/docs/MyFirstUI/QuestLog"}},l={},u=[{value:"\ud83d\udda5\ufe0f Import UI",id:"\ufe0f-import-ui",level:2},{value:"\ud83d\udc40 Example",id:"-example",level:2},{value:"\ud83d\udce5 Getting Data",id:"-getting-data",level:2},{value:"\u26a1 Listening to Data",id:"-listening-to-data",level:2}],c={toc:u},p="wrapper";function d(e){let{components:t,...s}=e;return(0,r.kt)(p,(0,a.Z)({},c,s,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"\ufe0f-making-quest-ui"},"\ud83d\udda5\ufe0f Making Quest UI"),(0,r.kt)("h2",{id:"\ufe0f-import-ui"},"\ud83d\udda5\ufe0f Import UI"),(0,r.kt)("p",null,"In order to make this tutorial easier to follow I'll provide some assets to create our first UI! Please install them here and import them into your StarterGui:"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://create.roblox.com/store/asset/17477286969"},"https://create.roblox.com/store/asset/17477286969")),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(97989).Z,width:"151",height:"80"}),"\n",(0,r.kt)("img",{src:n(96843).Z,width:"1154",height:"496"})),(0,r.kt)("h2",{id:"-example"},"\ud83d\udc40 Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},'local Players = game:GetService("Players")\nlocal ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RoQuest = require(ReplicatedStorage.RoQuest).Client\n\ntype Quest = RoQuest.Quest\ntype QuestObjective = RoQuest.QuestObjective\n\nlocal QuestStatus = RoQuest.QuestStatus\n\nlocal localPlayer: Player = Players.LocalPlayer\nlocal playerGui: PlayerGui = localPlayer:WaitForChild("PlayerGui")\nlocal scrollingFrame: ScrollingFrame = playerGui:WaitForChild("Quests"):WaitForChild("Main"):WaitForChild("ScrollingFrame")\nlocal template: Frame = scrollingFrame:WaitForChild("Template")\nlocal clone = template:Clone()\ntemplate:Destroy()\ntemplate = clone\n\nlocal Quests = {}\n\nfunction Quests:UpdateObjective(quest: Quest, objectiveId: string, newValue: number)\n    local existingFrame: Frame? = scrollingFrame:FindFirstChild(quest.QuestId)\n\n    if not existingFrame then\n        return\n    end\n\n    local objectivesWindow: Frame = existingFrame.TextContainer.Objectives\n    local objectiveText: TextLabel? = objectivesWindow:FindFirstChild(objectiveId)\n\n    if not objectiveText then\n        return\n    end\n\n    local questObjective: QuestObjective = quest:GetQuestObjective(objectiveId)\n\n    objectiveText.Text = string.format(questObjective:GetDescription(), newValue, questObjective:GetTargetProgress())\nend\n\nfunction Quests:UpdateQuestFrame(quest: Quest, frame: Frame)\n    local textContainer: Frame = frame:WaitForChild("TextContainer")\n\n    if quest:GetQuestStatus() == QuestStatus.Completed then\n        textContainer.Description.Text = "Read to deliver!"\n    elseif quest:GetQuestStatus() == QuestStatus.Delivered then\n        frame:Destroy()\n    else\n        textContainer.Title.Text = quest.Name\n        textContainer.Description.Text = quest.Description\n    end\nend\n\nfunction Quests:UpdateInterface()\n    local quests: {[string]: Quest} = RoQuest:GetInProgressQuests()\n\n    for _, instance: Instance in scrollingFrame:GetChildren() do -- Delete quests that dont exit\n        if instance:IsA("Frame") and not quests[instance.Name] then\n            instance:Destroy()\n        end\n    end\n\n    for questId: string, quest: Quest in quests do\n        local existingFrame: Frame = scrollingFrame:FindFirstChild(questId)\n\n        if existingFrame then\n            self:UpdateQuestFrame(quest, existingFrame)\n            continue -- Quest already exists\n        end\n\n        local newTemplate: Frame = template:Clone()\n        newTemplate.Name = questId\n        local textContainer: Frame = newTemplate:WaitForChild("TextContainer")\n        textContainer.Title.Text = quest.Name\n        textContainer.Description.Text = quest.Description\n        local objectives: Frame = textContainer:WaitForChild("Objectives")\n\n        for _, questObjective: QuestObjective in quest:GetQuestObjectives() do\n            local objectiveTemplate: TextLabel = textContainer.Description:Clone()\n            objectiveTemplate.Name = questObjective:GetObjectiveId()\n            objectiveTemplate.TextSize = 14\n            objectiveTemplate.Text = string.format(questObjective:GetDescription(), questObjective:Get(), questObjective:GetTargetProgress())\n            objectiveTemplate.Parent = objectives\n        end\n\n        newTemplate.Parent = scrollingFrame\n        self:UpdateQuestFrame(quest, newTemplate)\n    end\nend\n\nRoQuest.OnStart():andThen(function()\n    RoQuest.OnInProgressQuestChanged:Connect(function()\n        Quests:UpdateInterface()\n    end)\n\n    RoQuest.OnQuestObjectiveChanged:Connect(function(questId: string, objectiveId: string, newValue: number)\n        Quests:UpdateObjective(RoQuest:GetQuest(questId), objectiveId, newValue)\n    end)\n    \n    RoQuest.OnPlayerDataChanged:Connect(function()\n        Quests:UpdateInterface()\n    end) -- Hard reset our screens  \n\n    Quests:UpdateInterface()\nend)\n')),(0,r.kt)("p",null,"The vast majority of this code was just actually setting up the interface UI yet the most important and relevant part is how we gained and updates the data with RoQuest so let's break it down!"),(0,r.kt)("h2",{id:"-getting-data"},"\ud83d\udce5 Getting Data"),(0,r.kt)("p",null,"In RoQuest you can get either all quests or all the quests with a specific state. In order to display the quests that are in progress an easy way to do that would be with the following method:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},"local quests: {[string]: Quest} = RoQuest:GetInProgressQuests()\n")),(0,r.kt)("p",null,"This will return all the quests that are currently in progress"),(0,r.kt)("h2",{id:"-listening-to-data"},"\u26a1 Listening to Data"),(0,r.kt)("p",null,"Once we have all of our data set we want to update teh UI under 2 circumstances: when either the data of the quests we're showing changes OR when the quests that are currently in progress change. To do that we can use these 3 events:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-lua"},"RoQuest.OnInProgressQuestChanged:Connect(function()\n    Quests:UpdateInterface()\nend)\n\nRoQuest.OnQuestObjectiveChanged:Connect(function(questId: string, objectiveId: string, newValue: number)\n    Quests:UpdateObjective(RoQuest:GetQuest(questId), objectiveId, newValue)\nend)\n\nRoQuest.OnPlayerDataChanged:Connect(function()\n    Quests:UpdateInterface()\nend) -- Hard reset our screens  \n")),(0,r.kt)("admonition",{type:"warning"},(0,r.kt)("p",{parentName:"admonition"},"And just like we did on the server make sure that you only interact with RoQuest ",(0,r.kt)("strong",{parentName:"p"},"AFTER")," it loaded by using RoQuest.OnStart")),(0,r.kt)("p",null,(0,r.kt)("img",{src:n(79542).Z,width:"1138",height:"379"})))}d.isMDXComponent=!0},79542:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/QuestUI-9a7c3960eb0102a124e5f61aee9d8f01.png"},97989:(e,t,n)=>{n.d(t,{Z:()=>a});const a="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJcAAABQCAYAAAAUcud1AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAnMSURBVHhe7Z1daBvZGYZf2cHNRbZloTRC9Sop6YalF4kstF6istAWWogRa6cICtnCJq6W1d44BHLlpmFagiAlv9qLKkEx6U0ugtM6RSikZRNog6gdVVYSWEq26e4qRsw2LSXdkKZJbPd8Z45k/Y3+7PH86DwwWHPmnJHAr77zzZxX37h27Nix/PjxY2zatAlmcvv2bfFK4/Llyzhx4gRu3ryJoaEh0doIL4LhMYRGfHDTrppHMhFHpsBeBycQi2jtaj6N1Mw0aw9iYiqA7DjrQ/051BaBO61gcpoGCtoar//+3vAEotSupqFMTqNQc75EnLXRGP7+1ecMxxSMaB2RV31gBxHPVLQL1HwSk3E2quFn1fqYhWXF9ezZMxSLRWzduhU7d+4Urb2NNxxDFImVL0AwjFgISJBwtRZL0Sf+ms78/Lx4pTEwMMCFlcvlRIukMJ2C6lcwNTWlbSEPUglrCouwTOSSOA/LRC6J85DikhiGFJfEMKS4JIaxrgl9MvYmfK99Vexp/PuLZ3j3p3/EpwtfiBaJU1jXyFUrLOLllwawN7RN7EmcxLpGruxv9ohXrZn/6J949/CfxJ7Ejlg25xr6Vn2U08NLSx+lG4uxCQS9oj0cLr/uhG7H0bJNcCJWvskZmwizlhZ4w+yzxxDu6v2sTVNxnTlzBjdu3Gi40TFrEMRYBMgp4xgfH4eSKsIzSO1eDPv98PA+ndDtOFreUxBCCgr7HPRZEllguJVoCtOYHJ9E5ZKmU2g6LW7btg2nT5+uO/bkyRMcPHgQ9+7dEy3t0cm0SAR++Fvxqgn0zVc8SFUtRNM/egoRn9jJJzEez/AIFy0v7ooFX1o0jnlQVP0YYf3n/+rG0Gt8VHlc9aJw43HpRA7+Mb11vpqFaXa+qUBWO3fdorVzaBq57t+/jyNHjvBF5BLPnz+HoigdC0uPm3/5HLsjV7mQare2YN/8RBoI8WkoCK+IFJm4grSqIk0Rjf8TiSwSPKooyLlDK1ORewT+YoK1T+KDX9aMI/GGimIci0bFENjb1I2b3uCBWy1adp3PDFrmXLSgfOzYMSwuLmJpaYnbYG7duiWOrp5YYh7HT53lrohG24ULF0RPfQrTcTa1KEgVA4gqTGQ6CUxhgU1TLCeKTZFtxS2mTyKPlM685B32w81EpIg8Shlxw+0pnV9vHEUjkXc5MZlqk7YS+uvXr+PcuXM4e/Ysrl27JlrXhn/867/w+UrzVz3NvVyVFJAhkSksjPmH6xNpikDREAteCR6FknnR3g40PYrIRVuV56vEQhGq2yPeN4M49e3oTZxH21eLly5d4ttqoNsLepBnq9HWEsqHaDoUu95BNj2J11VQu5rDXKaAgjeIQMNO9RTmclB9FVMom3cbxqLCHHIYQbTys1RdFbBIyQ94EQ7pf5mcRNviWgvovlVXeVUzMjPadFiatlhwSnKPUwFzORV+Nk1OxcLwsn7p0vQWDbDMXIyvo2YcXc0lxT5Nc2PDGGysLkxPsqmZXS+Wp1A/kJqjKJfBDAuoI/wcUXhyvRHRLOHnotxKL0o1OyaxNusauSS9hSUiF10R6iXuZHPev3+/2JPYCUuIS+JM5LQoMQwpLolhSHFJDEOKS2IYtk7ol7e/iaW3jgBf+Zpoac7yfz5H/5VfwHXvpmiRGIkpkSsej2P79u1ir3sWR3/WtrAI15c3Y/EtNkayLpgSuchs+PTpU27dmZ2dFa2dsxj5NVyfdfZz/+UtfvQn3xF7jWjgr2rlv6o7HkF59VDNI52IO9IM2ArTcq6NGzfi6NGj2L17t2jpnL6//xl9fzjT2cbGGE8eSeGgUFKAX3GmjbkVpib0GzZswKFDh7B3717R0h2L4+ex/L33m27UxwwKmTg3M/pb+p2dhyOuFvs+zcJ1/VdNN+rTPj5EhLOBb2W/dHcUiircK87EnsFUcb148QLHjx/HxYsXRYtVWJnW+Nbjpr9uMU1clNAfPnwYV69eFS12omT8a49gwAe1uCD2egdTxHXnzh0cOHBgVVeK5pFBNu+Gf0w4Tr1B7izNZ8vXjlXQL44iPhU5bhrsLex9E5Ul6pRPUbLeKqda2hpA/9RPymP0aXWrgaiuTbryczOi/lZEuUZrj2Fvcf3gAFy/7+zHud2MkXSHvcX16rexzCKS63/tVchZ/tJLcH1yC66/NZ7CJGuLrcUlsTaOuM8lsSZSXBLDkOKSGIYUl8QwpLgkhmHvWxHSiWppTIlc0onaG5gSuaztRCW8CE9EMeLT1ndoeScRz2CtV3Co9urgXOnRdQ2WnWyOaeIiyHJz8uTJrp0RrdcJ62k9Rls39OeYoKZJUFREV0EEooTlmkHvE6U6l8ICLcW1JpTERVC1wvPnz3fl6TJk4ZoXiautbUr/+BCKCgmhRgS1i9psv75+asVCt1jIxlhtzVboi6vqnJUPAaWPG+PVDsuUHhwqds3EEVeLa+pE5UXiamubLqCouivKXOqgVz81OIYRVVQnTGSxwE7euGZrA+icEbeoVk31v/xQSkVZ2bGoP6dVj1aSyJNwLfRgT1PFZV0nanfo1k/NZJF3h0QFxM5yN37OfEpMnQVkZqjSYYDF0gZUBDArYJq4LOtEraptWmIQHreKtsykDeunZhCfnERihs2G0dhKNejVUphDShVippKK6RlL5WumiMvSTtRSbdNwqbYpJfQR+MrRg2BTpGZDrapvqls/NRhGOOhFoZDBTE6FL9C+uqrPyT7LGEWyrCYi7zBCbpZjcSFPIm6xH0fa+yaqEQk9p/mtiJUkWkU+zcTi0UvoxVPy6YIgygSqNZZ/JFv99P4iy/ErHKwMNa1okU83oa+4UBBUu2LNxd7iMtqJSleCvICvNW3KVn9av73FtQ5O1MpHuuST47BIUBCwiBgTEZGwmF/f1uKSWBtH3OeSWBMpLolhSHFJDEOKS2IYUlwSw7D3rQjpRLU0pkQu6UTtDUyJXNKJqlHtRHUepomLkE7USieq8+jfvHmzQg9IHxgYEE3Gs2/fPv63r68Pu3bt4iK7e/cub+uIb7wO1ydZvnDtevnrfF9vW/ru++ib/x1/TWN08X4fPw58jMQH10SkeoQHsw+x5b0QXpn/EB89IifqHpa7zeIBHab1xz39uDLL97RF5p+/h7dHR/HGlof4kLeTkE7h0NujGH1jCx5+PItX3jmFH31zE179Dmtj/a7Muur6PHikndKuOOJq0RFO1AZ97I6p4pJO1ApW4Va1KqaJSzpRazHIrWoipohLOlEbKGcVblWrYu+bqE5yoiaKLGLV97Ez9hZXjztRrY69xdXzTlRrY2txSayNI+5zSayJFJfEMKS4JIYhxSUxCOD/1WptadpFr2kAAAAOZVhJZk1NACoAAAAIAAAAAAAAANJTkwAAAABJRU5ErkJggg=="},96843:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/UIExample-8c725312a234d3ca97cd5bff254d2c51.png"}}]);