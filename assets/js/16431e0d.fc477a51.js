"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9930],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>f});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(n),m=i,f=p["".concat(s,".").concat(m)]||p[m]||d[m]||r;return n?a.createElement(f,o(o({ref:t},u),{},{components:n})):a.createElement(f,o({ref:t},u))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[p]="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},35308:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>l,toc:()=>c});var a=n(87462),i=(n(67294),n(3905));const r={sidebar_position:1,sidebar_label:"\u267e\ufe0f Infinite"},o="\u267e\ufe0f Infinite",l={unversionedId:"RepeatableQuests/Infinite",id:"RepeatableQuests/Infinite",title:"\u267e\ufe0f Infinite",description:"Sometimes we want quests to be repeatable. There are multiple types of repeatable quests and here we'll cover examples on all of them. Let's start by making a new quest! This time one where the player needs to collect Sticks!",source:"@site/docs/RepeatableQuests/Infinite.md",sourceDirName:"RepeatableQuests",slug:"/RepeatableQuests/Infinite",permalink:"/RoQuest/docs/RepeatableQuests/Infinite",draft:!1,editUrl:"https://github.com/prooheckcp/RoQuest/edit/master/docs/RepeatableQuests/Infinite.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,sidebar_label:"\u267e\ufe0f Infinite"},sidebar:"defaultSidebar",previous:{title:"\u26d3\ufe0f My First Quest Chain",permalink:"/RoQuest/docs/MyFirstQuestChain"},next:{title:"\ud83d\udcc5 Daily/Weekly",permalink:"/RoQuest/docs/RepeatableQuests/Daily"}},s={},c=[{value:"\ud83e\udeb5 Creating Sticks",id:"-creating-sticks",level:2},{value:"\ud83d\udcbb Code",id:"-code",level:2},{value:"\ud83e\udeb5 Make Sticks collectible",id:"-make-sticks-collectible",level:3},{value:"\ud83c\udfaf Create Quest Objective",id:"-create-quest-objective",level:3},{value:"\ud83d\udcdc Create Quest",id:"-create-quest",level:3}],u={toc:c},p="wrapper";function d(e){let{components:t,...r}=e;return(0,i.kt)(p,(0,a.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\ufe0f-infinite"},"\u267e\ufe0f Infinite"),(0,i.kt)("p",null,"Sometimes we want quests to be repeatable. There are multiple types of repeatable quests and here we'll cover examples on all of them. Let's start by making a new quest! This time one where the player needs to collect Sticks!"),(0,i.kt)("h2",{id:"-creating-sticks"},"\ud83e\udeb5 Creating Sticks"),(0,i.kt)("p",null,"Let's create some sticks and tag them all with a tag called ",(0,i.kt)("strong",{parentName:"p"},'"Stick"')),(0,i.kt)("p",null,(0,i.kt)("img",{src:n(24102).Z,width:"1096",height:"569"})),(0,i.kt)("h2",{id:"-code"},"\ud83d\udcbb Code"),(0,i.kt)("p",null,"Great! Now that we have some sticks let's create a new script under ServerScriptService and add the following code:"),(0,i.kt)("h3",{id:"-make-sticks-collectible"},"\ud83e\udeb5 Make Sticks collectible"),(0,i.kt)("p",null,"Now that we created the sticks we want to make them collectible. For that you can use the following example code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua"},'--Sticks.lua\nlocal ReplicatedStorage = game:GetService("ReplicatedStorage")\nlocal CollectionService = game:GetService("CollectionService")\n\nlocal RoQuest = require(ReplicatedStorage.RoQuest).Server\n\nlocal function stickAdded(stick)\n    local clone = stick:Clone()\n    local proximityPrompt = Instance.new("ProximityPrompt")\n    proximityPrompt.ActionText = "Collect Stick"\n    proximityPrompt.HoldDuration = 0.25\n    \n    proximityPrompt.Triggered:Connect(function(player)\n        stick:Destroy()\n        \n        RoQuest:AddObjective(player, "Stick", 1) -- Add to the quest\n        \n        task.delay(5, function() -- Respawn after 5 seconds\n            clone.Parent = workspace\n        end)\n    end)\n    \n    proximityPrompt.Parent = stick\nend\n\nCollectionService:GetInstanceAddedSignal("Stick"):Connect(stickAdded)\n\nfor _, stick in CollectionService:GetTagged("Stick") do\n    stickAdded(stick)\nend\n')),(0,i.kt)("p",null,"The main take-away from here is the following function:"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},'RoQuest:AddObjective(player, "Stick", 1)')),(0,i.kt)("p",null,"What this function does is tell our quest system that hey the player just collected a stick"),(0,i.kt)("h3",{id:"-create-quest-objective"},"\ud83c\udfaf Create Quest Objective"),(0,i.kt)("p",null,"Now we need to create the actual quest. To create the actual quest we first need to make the objective required to complete this quest. I'd recommend creating this under ReplicatedStorage in its own folder for quest objectives. Here's an example:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua"},'-- StickInfo.lua\nlocal ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RoQuest = require(ReplicatedStorage.RoQuest).Server\n\nlocal ObjectiveInfo = RoQuest.ObjectiveInfo\n\nreturn ObjectiveInfo.new {\n    Description = "%s/%s sticks collected",\n    Name = "Collect Sticks",\n    ObjectiveId = "Stick",\n}\n')),(0,i.kt)("h3",{id:"-create-quest"},"\ud83d\udcdc Create Quest"),(0,i.kt)("p",null,"And finally we need to create the actual quest object! For this let's make this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-lua"},'-- Stick.lua\nlocal ReplicatedStorage = game:GetService("ReplicatedStorage")\n\nlocal RoQuest = require(ReplicatedStorage.RoQuest).Server\nlocal stickObjective = require(ReplicatedStorage.QuestObjectives.StickInfo)\n\nlocal Quest = RoQuest.Quest\n\nreturn Quest {\n    Name = "Collect Sticks", -- The name of our quest\n    Description = "Collect 3 sticks", -- The description that we will display to our user\n    QuestId = "StickCollection", -- A unique identifier to our quest\n    QuestAcceptType = RoQuest.QuestAcceptType.Automatic, -- If the quest automatically gets accepted or rquires manual work\n    QuestDeliverType = RoQuest.QuestDeliverType.Automatic, -- If the quest automatically gets delivered or requires manual work\n    QuestRepeatableType = RoQuest.QuestRepeatableType.Infinite, -- If the quest can be repeated or not\n    QuestStart = -1, -- UTC time to define when the quest should become available (specially useful for event quests)\n    QuestEnd = -1, -- UTC time to define when the quest should no longer be available (specially useful for event quests)\n    RequiredQuests = {}, -- A list of quests that are required to be delivered before this quest can be started\n    LifeCycles = {}, -- The lifecycles that will manage this quest\'s behavior\n    QuestObjectives = {\n        stickObjective:NewObjective(3)\n    }, \n}\n')),(0,i.kt)("p",null,"Please notice that we set the ",(0,i.kt)("strong",{parentName:"p"},"QuestRepeatableType")," to ",(0,i.kt)("strong",{parentName:"p"},"Infinite"),". Now if you hop into the game you can see you can complete this quest an infinite amount of times!"))}d.isMDXComponent=!0},24102:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/Sticks-4ffea4ba536276b942db27831f1a4c8b.png"}}]);